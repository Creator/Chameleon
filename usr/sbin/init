logf("Chameleon - Loading")
local sysw_daemons = process.main:spawnSubprocess("daemons")
sleep(10)
sysw_daemons:spawnThread(function()
  while true do
    print("1  ")
    local e = coroutine.yield()
    if e == "terminate" then
      error()
    end
  end
end)

sysw_daemons:spawnThread(function()
  while true do
    print("2")
    local e = coroutine.yield()
    if e == "terminate" then
      error()
    end
  end
end)

while true do
  sysw_daemons:update("hello")
end
